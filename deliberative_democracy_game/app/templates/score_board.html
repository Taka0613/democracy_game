{% extends "base.html" %}
{% block title %}Scoreboard{% endblock %}
{% block content %}
<div class="scoreboard-header">
    <h2>Scoreboard</h2>
</div>

<!-- Score breakdown for each metric -->
<div class="scoreboard-metrics">
    {% for metric in metrics %}
    <div class="metric-card">
        <img src="{{ url_for('static', filename='images/' + metric.type | lower + '.png') }}"
            alt="{{ metric.type }} icon" class="metric-icon">
        <div class="metric-info">
            <h3>{{ metric.type }}</h3>
            <p class="metric-value">{{ metric.value }}</p>
        </div>
        <div class="progress-bar-container">
            <div class="progress-bar {{ metric.type | lower }}" style="width: {{ metric.value }}%; max-width: 100%;">
                {{ metric.value }}%
            </div>
        </div>
    </div>
    {% endfor %}
</div>

<!-- Total score section with full-width box -->
<div class="total-score-section">
    {% set total_score = calculate_total_score(metrics[0].value, metrics[1].value, metrics[2].value) %}
    <div class="total-score-card full-width-box">
        <div class="metric-info">
            <img src="{{ url_for('static', filename='images/total_score.png') }}" alt="Total Score icon"
                class="metric-icon">
            <p><strong>Total Score:</strong> {{ total_score }}</p>
            <a href="{{ url_for('main.total_score_info') }}" class="info-link">How is the total score calculated?</a>
        </div>
        <div class="progress-bar-container full-width-progress">
            <div class="progress-bar total" style="width: {{ total_score }}%; max-width: 100%;">
                {{ total_score }}%
            </div>
        </div>
    </div>
</div>

{% endblock %}