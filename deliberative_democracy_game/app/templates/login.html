{% extends "base.html" %}
{% block title %}Login{% endblock %}
{% block content %}
<h2>Login</h2>
<form method="POST" id="login-form">
    {{ form.hidden_tag() }}
    <div class="form-group">
        <input type="hidden" id="character_name_input" name="character_name" value="">
    </div>
</form>

<h3>Choose a character to log in:</h3>
<div class="character-gallery">
    {% for character in characters %}
    <div class="character-item" onclick="selectCharacter('{{ character.character_name }}')">
        <img src="{{ url_for('static', filename='images/' + character.character_name | replace(' ', '_') | lower + '.jpg') }}"
            alt="{{ character.character_name }}" class="character-image">
        <strong>{{ character.character_name }}</strong>
    </div>
    {% endfor %}
</div>

<script>
    function selectCharacter(characterName) {
        document.getElementById('character_name_input').value = characterName;
        document.getElementById('login-form').submit();
    }
</script>

<style>
    /* Float and bounce effect on character items */
    .character-item {
        animation: floatAnimation 3s infinite ease-in-out, shadowPulse 2s infinite ease-in-out;
        cursor: pointer;
        transition: transform 0.3s ease-in-out;
    }

    .character-item:hover {
        transform: scale(1.1) rotate(5deg);
        animation: none;
        /* Stops the animation on hover */
        box-shadow: 0 0 15px rgba(76, 175, 80, 0.6);
    }

    /* Keyframes for float animation */
    @keyframes floatAnimation {

        0%,
        100% {
            transform: translateY(0);
        }

        50% {
            transform: translateY(-10px);
        }
    }

    /* Keyframes for shadow pulsing */
    @keyframes shadowPulse {

        0%,
        100% {
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.4);
        }

        50% {
            box-shadow: 0 0 20px rgba(76, 175, 80, 0.8);
        }
    }

    /* Adding a glow effect on the images */
    .character-image {
        border-radius: 8px;
        transition: filter 0.3s;
    }

    .character-image:hover {
        filter: brightness(1.2) saturate(1.3);
    }
</style>
{% endblock %}